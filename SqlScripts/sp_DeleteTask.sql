USE TodoListDB;
GO

SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE OR ALTER PROCEDURE sp_DeleteTask
	@Id INT
AS
BEGIN
	SET NOCOUNT ON;

	IF NOT EXISTS (SELECT 1 FROM Tasks WHERE Id = @Id)
	BEGIN
		RAISERROR('Task not found.', 16, 1);
		RETURN;
	END
    
	DELETE FROM Tasks WHERE Id = @Id;
    
	SELECT 1 AS Success;
END
GO
